<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Introduction to Git within RStudio</title>

<script src="site_libs/header-attrs-2.8/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">RWorkflow</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="set-up.html">
    <span class="fas fa-clone"></span>
     
    Set-up
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-calendar"></span>
     
    Workshop Weekly Notes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="week1.html">
        <span class="fas fa-cogs"></span>
         
        Week 1 RStudio + Version Control
      </a>
    </li>
  </ul>
</li>
<li>
  <a href="https://rverse-tutorials.github.io/RWorkflow/">
    <span class="fas fa-folder"></span>
     
    Archive
  </a>
</li>
<li>
  <a href="https://github.com/RVerse-Tutorials/RWorkflow-NWFSC-2020">
    <span class="fas fa-clock"></span>
     
    2020 website
  </a>
</li>
<li>
  <a href="links.html">
    <span class="fas fa-info"></span>
     
    More resources
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/RVerse-Tutorials/RWorkflow-NWFSC-2021">
    <span class="fab fa-github"></span>
     
    Repo
  </a>
</li>
<li>
  <a href="https://github.com/orgs/RWorkflow-Workshop-2021">Org</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Introduction to Git within RStudio</h1>

</div>


<table class="table" style="margin-left: auto; margin-right: auto;">
<tbody>
<tr>
<td style="text-align:left;color: white !important;background-color: blue !important;width: 20%; ">
Compartmentalized
</td>
<td style="text-align:left;color: white !important;background-color: blue !important;width: 20%; ">
Documented
</td>
<td style="text-align:left;color: white !important;background-color: blue !important;width: 20%; ">
Extendible
</td>
<td style="text-align:left;color: white !important;background-color: blue !important;width: 20%; ">
Reproducible
</td>
<td style="text-align:left;color: white !important;background-color: blue !important;width: 20%; ">
Robust
</td>
</tr>
</tbody>
</table>
<div id="overview" class="section level1">
<h1>Overview</h1>
<p>I will introduce you to RStudio and GitHub/GitLab and show you how to use GitHub/GitLab without having to learn Git. If you have tried RStudio or Git and gotten frustrated or thought ‘I don’t have time to learn this’, this is for you. If you want to learn how to easily keep track of changes in your code, this is for you. If you have never used RStudio, this is for you.</p>
<p>I’m going to show you how to work with Git/GitHub/GitLab with no command-line interface. The goal is to futz with Git as little as possible. See the Links tab above for a nice online workshop on Git/GitHub if you want to learn more.</p>
</div>
<div id="rstudio" class="section level1">
<h1>RStudio</h1>
<p>When you open RStudio you will see 4 panels:</p>
<div class="figure">
<img src="images/RStudio-screenshot.png" alt="" />
<p class="caption">RStudio-panels</p>
</div>
<div id="create-an-rstudio-project" class="section level2">
<h2>Create an RStudio Project</h2>
<ol style="list-style-type: decimal">
<li>In RStudio, choose “File-&gt;New Project…”</li>
<li>Then choose “New Directory” and then choose “Empty Project”</li>
<li>In the next dialog, choose a name (<em>it is best to use only letters, numbers, dashes, and underscores, and include no spaces in the name</em>).<br />
</li>
<li>Then click “Create Project”.</li>
</ol>
<p>That should give you a new project.</p>
<div id="add-a-new-script-file" class="section level3">
<h3>Add a new script file</h3>
<ol style="list-style-type: decimal">
<li>Add a new file using ‘File &gt; New File &gt; R Script’</li>
<li>Or you can click the new icon in top left corner.</li>
<li>Add some code to that file. Copy and paste in:</li>
</ol>
<pre><code>require(graphics)
## Annette Dobson (1990) &quot;An Introduction to Generalized Linear Models&quot;.
## Page 9: Plant Weight Data.
ctl &lt;- c(4.17,5.58,5.18,6.11,4.50,4.61,5.17,4.53,5.33,5.14)
trt &lt;- c(4.81,4.17,4.41,3.59,5.87,3.83,6.03,4.89,4.32,4.69)
group &lt;- gl(2, 10, 20, labels = c(&quot;Ctl&quot;,&quot;Trt&quot;))
weight &lt;- c(ctl, trt)
lm.D9 &lt;- lm(weight ~ group)
opar &lt;- par(mfrow = c(2,2), oma = c(0, 0, 1.1, 0))
plot(lm.D9, las = 1)      # Residuals, Fitted, ...
par(opar)</code></pre>
</div>
<div id="run-the-code" class="section level3">
<h3>Run the code</h3>
<ol style="list-style-type: decimal">
<li>Select all the lines of code and select ‘Run’</li>
<li>Run all the code by selecting ‘Source’</li>
</ol>
</div>
</div>
<div id="project-organization" class="section level2">
<h2>Project organization</h2>
<p>Keep your projects in separate folders with a uniform set of folder names. For example,</p>
<ul>
<li>R - your functions</li>
<li>scripts - scripts (so not functions)</li>
<li>data - your RData files</li>
<li>output -</li>
<li>inst - random stuff</li>
<li>notes -</li>
</ul>
<p>The top right corner allows you to create projects and switch between projects.</p>
<div class="figure">
<img src="images/RStudio-screenshot.png" alt="" />
<p class="caption">RStudio-panels</p>
</div>
<div id="project-settings" class="section level3">
<h3>Project settings</h3>
<p>Key one is to <strong>not</strong> save your <code>.Rdata</code> (your environment) when your are done for the day. Under Tools &gt; Project Options… &gt; General</p>
</div>
</div>
<div id="super-helpful-features" class="section level2">
<h2>Super helpful features</h2>
<ul>
<li>Edit &gt; Find in Files…</li>
<li>Code &gt; Comment</li>
<li>Code &gt; Reindent Lines</li>
<li>File &gt; New (templates)</li>
<li>History tab</li>
<li>Help tab (index at bottom)</li>
<li>Help &gt; Markdown quick reference</li>
</ul>
</div>
<div id="more-exercises" class="section level2">
<h2>More exercises</h2>
<p>R for Data Science is a great book to introduce you to working with data in R. Read through the following sections of the R for Data Science book and work through the examples.</p>
<ul>
<li><a href="http://r4ds.had.co.nz/workflow-basics.html">Workflow basics</a>: super basic review on how R works.</li>
<li><a href="http://r4ds.had.co.nz/workflow-projects.html">Workflow: projects</a>: info about organizing RStudio projects.</li>
<li><a href="http://r4ds.had.co.nz/workflow-scripts.html">Workflow: scripts</a>: how to evaluate code in scripts.</li>
</ul>
</div>
</div>
<div id="git-githubgitlab" class="section level1">
<h1>Git (GitHub/GitLab)</h1>
<p>Tracking your code (and project) changes. I am focusing on Git for individuals <strong>not teams</strong>. If you aren’t using a change tracker (version control), then start just with a personal project and track only your changes. I will not cover <em>branches</em>.</p>
<p>For NOAA staff, GitHub can be used for publishing public projects: <a href="https://github.com/NOAAGov/NOAA-Affiliated-Projects">NOAA GitHub</a> and a NWFSC example <a href="https://nwfsc-timeseries.github.io/">NWFSC Timeseries</a>. NWFSC has a GitLab server if you want a repository server for your non-public projects and for internal collaboration.</p>
<div id="basics" class="section level2">
<h2>Basics</h2>
<ul>
<li>Repo: Repository. It is your code and the record of your changes. In a hidden folder called <code>.git</code> (so if you wanted to get rid of the history and other Git info, you could delete that folder). You have a local repo and a remote repo (on GitHub/GitLab).</li>
<li>Actions: Commit, Push, Pull</li>
<li>Git: The program that keeps track of the changes on local and remote repo.</li>
<li>Git GUIs: A graphical interface for Git (which is command line). There are <a href="https://git-scm.com/downloads/guis">many</a>. I am teaching an easy-entry one, GitHub Desktop.</li>
</ul>
<p>Workflow (to get started):</p>
<ul>
<li>Make local changes to code.</li>
<li>Record what those changes were about and commit to the code change record (history).</li>
<li>Push those changes to your remote copy (aka your backup)</li>
</ul>
<div class="figure">
<img src="images/git-intro.png" alt="" />
<p class="caption">First foray into Git/GitHub/GitLab</p>
</div>
<p>Goals today:</p>
<ol style="list-style-type: decimal">
<li>Get you started.</li>
<li>Show you a simple workflow.</li>
<li>Show some simple GitHub/GitLab features.</li>
</ol>
</div>
<div id="lets-get-started" class="section level2">
<h2>Let’s get started!</h2>
<p>I am going to show a workflow that is usually robust. Connecting Git on your computer and GitHub (or GitLab) is a source of much misery, and in my experience <strong>creating the repo on GitHub (or GitLab) first</strong> eliminates the problems. This really important for the first time you connect your computer to the remote repository server (GitHub or GitLab). Start with a new repo created on GitHub or GitLab.</p>
<div id="make-a-github-or-gitlab-repo" class="section level3">
<h3>Make a GitHub or GitLab Repo</h3>
<ol style="list-style-type: decimal">
<li>Go to GitHub or GitLab and create a new repository (the + in the top right or New Project)</li>
<li>Click add Readme.md and add .gitignore (type R to get the R .gitignore)</li>
<li>Copy the url of your new repo</li>
</ol>
</div>
<div id="add-to-rstudio" class="section level3">
<h3>Add to RStudio</h3>
<ol style="list-style-type: decimal">
<li>Open RStudio and click <code>New Project</code> (upper right, blue cube with R)</li>
<li>Click New Project… &gt; Version Control &gt; Git and paste in the url. Give your project a name and make sure the directory is where you want the project.</li>
<li>Done!</li>
</ol>
</div>
<div id="make-some-changes-and-commit" class="section level3">
<h3>Make some changes and commit</h3>
<ol style="list-style-type: decimal">
<li>Add a file. File &gt; New File &gt; R Script</li>
<li>Type something and then save the file.</li>
<li>Click the <code>Git</code> tab in the upper right.</li>
<li>Click the changes that you want to commit (do all). And click <code>Commit</code>. Add a comment: first line is subject, newline, description (options).</li>
<li>Click the Green up arrow to Push to GitHub or GitLab.</li>
</ol>
</div>
<div id="make-some-changes-and-look-at-the-history" class="section level3">
<h3>Make some changes and look at the history</h3>
<ol style="list-style-type: decimal">
<li><p>Repeat 1-4 a few times.</p></li>
<li><p>Now look at the history. The little clock-like icon (or History in the Git window).</p>
<ul>
<li>Click on <code>filter by file</code> to see just the changes to one file.</li>
<li>Do a search in the upper right.</li>
<li>Click on an early commit and click <code>View file @...</code></li>
</ul></li>
<li><p>Push changes up the GitHub or GitLab</p></li>
</ol>
</div>
</div>
<div id="copy-someones-else-rep" class="section level2">
<h2>Copy someone’s else rep</h2>
<ol style="list-style-type: decimal">
<li><p>In a browser, <a href="https://github.com/RVerse-Tutorials/Test" class="uri">https://github.com/RVerse-Tutorials/Test</a>.</p></li>
<li><p>Copy its url.</p></li>
<li><p>Open GitHub or GitLab.<br />
</p></li>
<li><p>If using GitHub, click the <code>+</code> in top right and click <code>import repository</code>. Paste in the url and give your repo a name.</p></li>
<li><p>If using GitLab, click <code>New Project</code> on right, then <code>Import Repository</code> tab, then click <code>Repo by URL</code>. Paste in url and give repo a name.</p></li>
<li><p>Open RStudio and click the project tab in the top right and select, <code>New Project</code>. Then select <code>Version Control</code> and paste in the url of <strong>your</strong> repository’s url. For example, <code>https://github.com/&lt;youraccount&gt;/Test</code> or <code>https://gitlab.com/&lt;youraccount&gt;/Test</code> or</p></li>
<li><p>Add the new repo to GitHub Desktop. Open GitHub Desktop, select File&gt;Add Local Repository and navigate to the folder with the new repository.</p></li>
</ol>
</div>
<div id="key-tips" class="section level2">
<h2>Key tips</h2>
<ol style="list-style-type: decimal">
<li>Do not make changes on GitHub or GitLab directly.</li>
</ol>
<ul>
<li>Waa, I did and then I forget to pull and now I have merge conflicts. What do I do?? I warned you. Now, Google is your friend.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><p>Do not use branches (wait till you are friends with Git).</p></li>
<li><p>Do not use Git at the command line.</p></li>
<li><p>If you use Dropbox or iCloud on multiple computers to keep folders synced up across different computers, don’t put your Git repos in those folders.</p></li>
<li><p>The Git info is in the hidden folder <code>.git</code>. If you need to get rid of the repository data (like history), delete that. Don’t copy that folder into another repo.</p></li>
<li><p>Start by making a blank repo on GitHub or GitLab and select the box to add a Readme file. Then clone that with RStudio or GitHub Desktop.</p></li>
</ol>
</div>
</div>
<div id="github-desktop" class="section level1">
<h1>GitHub Desktop</h1>
<p>Despite the name, it works with GitLab too.</p>
<p>You can commit your changes and push them with RStudio only, but many people use a Git GUI to interact with Git and their remote repository. GitHub Desktop is simple and works well. Why not just use RStudio? If you are happy with that, fine. Many people prefer a separate Git GUI, though Git with RStudio has improved and serves many just fine.</p>
<div class="figure">
<img src="images/GitHub-Desktop.png" alt="" />
<p class="caption">GitHub Desktop</p>
</div>
<div id="adding-your-local-repository" class="section level2">
<h2>Adding your local repository</h2>
<p>To use your local repository with GitHub Desktop, you need to add it.</p>
<ol style="list-style-type: decimal">
<li>File &gt; Add Local Repository.</li>
</ol>
<p>How does it know what the remote repository (GitHub/GitLab) is? It is stored in the .git information which was set when you cloned the repo from GitHub/GitLab.</p>
</div>
</div>

<hr>

<div style="text-align: center">
<i class="fas fa-cubes"></i> NWFSC Math Bio Program <i class="fas fa-cubes"></i>
</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
